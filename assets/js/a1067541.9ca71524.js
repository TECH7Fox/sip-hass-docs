"use strict";(self.webpackChunksip_hass_docs=self.webpackChunksip_hass_docs||[]).push([[9962],{1726:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"developers/card/guides/standalone","title":"Simple Card","description":"This guide will help you create a standalone card that can be used in Home Assistant. This card will interact with the SIP Core instance and provide basic functionality such as answering calls, ending calls, and starting calls to specific extensions.","source":"@site/docs/developers/card/guides/standalone.md","sourceDirName":"developers/card/guides","slug":"/developers/card/guides/standalone","permalink":"/sip-hass-docs/docs/developers/card/guides/standalone","draft":false,"unlisted":false,"editUrl":"https://github.com/TECH7Fox/sip-hass-docs/edit/main/docs/developers/card/guides/standalone.md","tags":[],"version":"current","frontMatter":{},"sidebar":"developersSidebar","previous":{"title":"Custom Popup","permalink":"/sip-hass-docs/docs/developers/card/guides/popup"},"next":{"title":"SIP Core API","permalink":"/sip-hass-docs/docs/developers/card/api/"}}');var a=t(4848),r=t(8453);const i={},o="Simple Card",d={},c=[{value:"Step 1: Create the Card",id:"step-1-create-the-card",level:2},{value:"Step 2: Load the Card in Home Assistant",id:"step-2-load-the-card-in-home-assistant",level:2},{value:"Step 3: Add the Card to Your Dashboard",id:"step-3-add-the-card-to-your-dashboard",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"simple-card",children:"Simple Card"})}),"\n",(0,a.jsx)(n.p,{children:"This guide will help you create a standalone card that can be used in Home Assistant. This card will interact with the SIP Core instance and provide basic functionality such as answering calls, ending calls, and starting calls to specific extensions."}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsxs)(n.p,{children:["For this guide we expect you to have ",(0,a.jsx)(n.strong,{children:"sip-hass-card"})," already installed, configured and running in your Home Assistant instance. If you haven't done that yet, please refer to the ",(0,a.jsx)(n.a,{href:"/sip-hass-docs/docs/tutorial/introduction",children:"Installation Guide"})," to set it up."]})}),"\n",(0,a.jsx)(n.h2,{id:"step-1-create-the-card",children:"Step 1: Create the Card"}),"\n",(0,a.jsxs)(n.p,{children:["Create a new file named ",(0,a.jsx)(n.code,{children:"sip-example-card.js"})," in your project directory. This file will contain the code for your standalone card. Here is a basic example:"]}),"\n",(0,a.jsxs)(s,{children:[(0,a.jsx)("summary",{children:"Example Card"}),(0,a.jsx)(n.p,{children:"This example shows how to create a standalone card that can be used in Home Assistant. It includes basic functionality to interact with the SIP Core instance."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'import { LitElement, html, css } from "https://cdn.jsdelivr.net/npm/lit-element@4.2.0/+esm";\n\n\nclass ExampleCard extends LitElement {\n    sipCore;\n\n    static styles = css`\n        ha-card {\n            padding: 16px;\n            font-family: Arial, sans-serif;\n        }\n\n        .status {\n            margin-bottom: 16px;\n        }\n\n        .buttons {\n            display: flex;\n            gap: 8px;\n        }\n\n        button {\n            padding: 8px 16px;\n            font-size: 14px;\n            cursor: pointer;\n        }\n    `;\n\n    connectedCallback() {\n        super.connectedCallback();\n        window.addEventListener("sipcore-update", this.updateHandler);\n    }\n\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        window.removeEventListener("sipcore-update", this.updateHandler);\n    }\n\n    updateHandler = () => {\n        if (!this.sipCore) {\n            this.sipCore = window.sipCore;\n        }\n        this.requestUpdate();\n    };\n\n    setConfig(config) {\n        // Validate the config here\n    }\n\n    render() {\n        if (!this.sipCore) {\n            return html`<div>Loading...</div>`;\n        }\n\n        return html`\n            <ha-card>\n                <div class="status">\n                    <strong>Call State:</strong> ${this.sipCore.callState}<br />\n                    <strong>Call Duration:</strong> ${this.sipCore.callDuration}<br />\n                    <strong>Remote Name:</strong> ${this.sipCore.remoteName || "N/A"}<br />\n                </div>\n                <div class="buttons">\n                    <button @click=${() => this.sipCore.answerCall()}>Answer Call</button>\n                    <button @click=${() => this.sipCore.endCall()}>End Call</button>\n                    <button @click=${() => this.sipCore.startCall("8001")}>Call Extension 8001</button>\n                </div>\n            </ha-card>\n        `;\n    }\n}\n\ncustomElements.define("sip-example-card", ExampleCard);\nwindow.customCards = window.customCards || [];\nwindow.customCards.push({\n    type: "sip-example-card",\n    name: "SIP Example Card",\n    preview: true,\n    description: "SIP Example Card",\n});\n'})})]}),"\n",(0,a.jsx)(n.h2,{id:"step-2-load-the-card-in-home-assistant",children:"Step 2: Load the Card in Home Assistant"}),"\n",(0,a.jsxs)(n.p,{children:["To import this card into Home Assistant, copy the file to your ",(0,a.jsx)(n.code,{children:"config/www"}),' directory of your Home Assistant installation. Then, go to settings > dashboards, click on the three dots in the top right corner, and select "Resources". Click on "Add Resource" and enter the path to your card file, like ',(0,a.jsx)(n.code,{children:"/local/sip-example-card.js"}),'.\nMake sure the resource type is set to "JavaScript Module", and then click "Create".']}),"\n",(0,a.jsx)(n.h2,{id:"step-3-add-the-card-to-your-dashboard",children:"Step 3: Add the Card to Your Dashboard"}),"\n",(0,a.jsx)(n.p,{children:'Now you can add the card to your dashboard. Go to your dashboard, click on the three dots in the top right corner, and select "Edit Dashboard". Click on "Add Card", then select "Manual" and enter the following configuration:'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'type: "custom:sip-example-card"\n'})}),"\n",(0,a.jsx)(n.p,{children:"Now you should see your custom card in your dashboard, which can interact with the SIP Core instance."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"working custom card",src:t(2870).A+"",width:"558",height:"277"})}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsxs)(n.p,{children:["If it is not working for you, check the browser console (F12) for any errors, and make sure it reloaded correctly. You can also try reloading the page with ",(0,a.jsx)("kbd",{children:"Ctrl"})," + ",(0,a.jsx)("kbd",{children:"Shift"})," + ",(0,a.jsx)("kbd",{children:"R"})," to force a full reload of HA."]})}),"\n",(0,a.jsxs)(n.p,{children:["To share your card with others, you can upload it to a Github repository and use ",(0,a.jsx)(n.a,{href:"https://www.hacs.xyz/docs/publish/plugin/",children:"HACS"})," to make it available for others to install and update easily."]}),"\n",(0,a.jsxs)(n.p,{children:["And please share your card in our ",(0,a.jsx)(n.a,{href:"https://discordapp.com/invite/qxnDtHbwuD",children:"Discord server"})," or on the ",(0,a.jsx)(n.a,{href:"https://community.home-assistant.io/",children:"Home Assistant Forum"}),". Would love to see your creations!"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},2870:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/image-1-2061714ab40f87fcb10ba6180dfc7b34.png"},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var s=t(6540);const a={},r=s.createContext(a);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);